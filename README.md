# Home_Sales


## Background
The purpose of this challenge was to use SparkSQL to determine key metrics about the 'Home Sales' data provided, and answer the following questions:
  1. What is the average price for a four-bedroom house sold for each year? Round off your answer to two decimal places.
  2. What is the average price of a home for each year it was built that has three bedrooms and three bathrooms? Round off your answer to two decimal places.
  3. What is the average price of a home for each year that has three bedrooms, three bathrooms, two floors, and is greater than or equal to 2,000 square feet? Round off your answer to two decimal places.
  4. What is the "view" rating for homes costing more than or equal to $350,000? Determine the run time for this query, and round off your answer to two decimal places.


## Methodology
Spark was used to perform the following tasks:
 * create temporary views - which allows us to query the data using SparkSQL, Spark SQL temporary views are session-scoped and will not be available if the session that creates it terminates.
 * partition the data - Partitioning is a feature of Parquet that allows you to divide your data into more manageable parts based on the values of one or more columns. This can significantly improve the performance    of your Spark jobs by reducing the amount of data that needs to be read.
 * cache a temporary table - If a query is cached, then a temp view will be created for this query. This reduces scanning of the original files in future queries.
 * uncache & verify that the table has been uncached - This removes the entries and associated data from the in-memory and/or on-disk cache for a given table or view in Apache Spark cache.


## Run Time Comparisons
Having performed each of the required queries and instructions, 
 1. Uncached Runtime: --- 0.5571682453155518 seconds ---
 2. Cached Runtime: --- 0.3001542091369629 seconds ---
 3. Partioned Parquet formatted Runtime: --- 0.25682735443115234 seconds ---


## Conclusion
As outlined in the methodology, the run time comparison results show that when the data is cached, the query speed is faster than when the data is uncached, and even faster when the data is partitioned and parquet formatted. The partitioned data may have queried at the fastest speed due to the data being separated into more manageable parts and consequently reducing the amount of data that needs to be read. 


## References
Data for this dataset was generated by edX Boot Camps LLC, and is intended for educational purposes only.
